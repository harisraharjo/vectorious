"use strict";var v=(()=>{var ie=Object.create;var I=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var fe=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty;var $=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),ue=(r,t)=>{for(var o in t)I(r,o,{get:t[o],enumerable:!0})},Q=(r,t,o,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of me(t))!pe.call(r,a)&&a!==o&&I(r,a,{get:()=>t[a],enumerable:!(e=se(t,a))||e.enumerable});return r};var ce=(r,t,o)=>(o=r!=null?ie(fe(r)):{},Q(t||!r||!r.__esModule?I(o,"default",{value:r,enumerable:!0}):o,r)),ye=r=>Q(I({},"__esModule",{value:!0}),r);var Po=$((ym,Ro)=>{Ro.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var Bo=$((lm,B)=>{typeof Object.create=="function"?B.exports=function(t,o){t.super_=o,t.prototype=Object.create(o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:B.exports=function(t,o){t.super_=o;var e=function(){};e.prototype=o.prototype,t.prototype=new e,t.prototype.constructor=t}});var Go=$(y=>{var Be=/%[sdj%]/g;y.format=function(r){if(!F(r)){for(var t=[],o=0;o<arguments.length;o++)t.push(x(arguments[o]));return t.join(" ")}for(var o=1,e=arguments,a=e.length,n=String(r).replace(Be,function(m){if(m==="%%")return"%";if(o>=a)return m;switch(m){case"%s":return String(e[o++]);case"%d":return Number(e[o++]);case"%j":try{return JSON.stringify(e[o++])}catch{return"[Circular]"}default:return m}}),s=e[o];o<a;s=e[++o])O(s)||!L(s)?n+=" "+s:n+=" "+x(s);return n};y.deprecate=function(r,t){if(N(global.process))return function(){return y.deprecate(r,t).apply(this,arguments)};if(process.noDeprecation===!0)return r;var o=!1;function e(){if(!o){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),o=!0}return r.apply(this,arguments)}return e};var T={},H;y.debuglog=function(r){if(N(H)&&(H=process.env.NODE_DEBUG||""),r=r.toUpperCase(),!T[r])if(new RegExp("\\b"+r+"\\b","i").test(H)){var t=process.pid;T[r]=function(){var o=y.format.apply(y,arguments);console.error("%s %d: %s",r,t,o)}}else T[r]=function(){};return T[r]};function x(r,t){var o={seen:[],stylize:Je};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),X(t)?o.showHidden=t:t&&y._extend(o,t),N(o.showHidden)&&(o.showHidden=!1),N(o.depth)&&(o.depth=2),N(o.colors)&&(o.colors=!1),N(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=He),q(o,r,o.depth)}y.inspect=x;x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function He(r,t){var o=x.styles[t];return o?"\x1B["+x.colors[o][0]+"m"+r+"\x1B["+x.colors[o][1]+"m":r}function Je(r,t){return r}function Ve(r){var t={};return r.forEach(function(o,e){t[o]=!0}),t}function q(r,t,o){if(r.customInspect&&t&&S(t.inspect)&&t.inspect!==y.inspect&&!(t.constructor&&t.constructor.prototype===t)){var e=t.inspect(o,r);return F(e)||(e=q(r,e,o)),e}var a=Ge(r,t);if(a)return a;var n=Object.keys(t),s=Ve(n);if(r.showHidden&&(n=Object.getOwnPropertyNames(t)),z(t)&&(n.indexOf("message")>=0||n.indexOf("description")>=0))return J(t);if(n.length===0){if(S(t)){var m=t.name?": "+t.name:"";return r.stylize("[Function"+m+"]","special")}if(_(t))return r.stylize(RegExp.prototype.toString.call(t),"regexp");if(W(t))return r.stylize(Date.prototype.toString.call(t),"date");if(z(t))return J(t)}var f="",u=!1,c=["{","}"];if(Ho(t)&&(u=!0,c=["[","]"]),S(t)){var d=t.name?": "+t.name:"";f=" [Function"+d+"]"}if(_(t)&&(f=" "+RegExp.prototype.toString.call(t)),W(t)&&(f=" "+Date.prototype.toUTCString.call(t)),z(t)&&(f=" "+J(t)),n.length===0&&(!u||t.length==0))return c[0]+f+c[1];if(o<0)return _(t)?r.stylize(RegExp.prototype.toString.call(t),"regexp"):r.stylize("[Object]","special");r.seen.push(t);var A;return u?A=We(r,t,o,s,n):A=n.map(function(U){return G(r,t,o,s,U,u)}),r.seen.pop(),Xe(A,f,c)}function Ge(r,t){if(N(t))return r.stylize("undefined","undefined");if(F(t)){var o="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(o,"string")}if(Jo(t))return r.stylize(""+t,"number");if(X(t))return r.stylize(""+t,"boolean");if(O(t))return r.stylize("null","null")}function J(r){return"["+Error.prototype.toString.call(r)+"]"}function We(r,t,o,e,a){for(var n=[],s=0,m=t.length;s<m;++s)Vo(t,String(s))?n.push(G(r,t,o,e,String(s),!0)):n.push("");return a.forEach(function(f){f.match(/^\d+$/)||n.push(G(r,t,o,e,f,!0))}),n}function G(r,t,o,e,a,n){var s,m,f;if(f=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},f.get?f.set?m=r.stylize("[Getter/Setter]","special"):m=r.stylize("[Getter]","special"):f.set&&(m=r.stylize("[Setter]","special")),Vo(e,a)||(s="["+a+"]"),m||(r.seen.indexOf(f.value)<0?(O(o)?m=q(r,f.value,null):m=q(r,f.value,o-1),m.indexOf(`
`)>-1&&(n?m=m.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):m=`
`+m.split(`
`).map(function(u){return"   "+u}).join(`
`))):m=r.stylize("[Circular]","special")),N(s)){if(n&&a.match(/^\d+$/))return m;s=JSON.stringify(""+a),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=r.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=r.stylize(s,"string"))}return s+": "+m}function Xe(r,t,o){var e=0,a=r.reduce(function(n,s){return e++,s.indexOf(`
`)>=0&&e++,n+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?o[0]+(t===""?"":t+`
 `)+" "+r.join(`,
  `)+" "+o[1]:o[0]+t+" "+r.join(", ")+" "+o[1]}function Ho(r){return Array.isArray(r)}y.isArray=Ho;function X(r){return typeof r=="boolean"}y.isBoolean=X;function O(r){return r===null}y.isNull=O;function Ye(r){return r==null}y.isNullOrUndefined=Ye;function Jo(r){return typeof r=="number"}y.isNumber=Jo;function F(r){return typeof r=="string"}y.isString=F;function Ze(r){return typeof r=="symbol"}y.isSymbol=Ze;function N(r){return r===void 0}y.isUndefined=N;function _(r){return L(r)&&Y(r)==="[object RegExp]"}y.isRegExp=_;function L(r){return typeof r=="object"&&r!==null}y.isObject=L;function W(r){return L(r)&&Y(r)==="[object Date]"}y.isDate=W;function z(r){return L(r)&&(Y(r)==="[object Error]"||r instanceof Error)}y.isError=z;function S(r){return typeof r=="function"}y.isFunction=S;function Ke(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r>"u"}y.isPrimitive=Ke;y.isBuffer=Po();function Y(r){return Object.prototype.toString.call(r)}function V(r){return r<10?"0"+r.toString(10):r.toString(10)}var Qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ra(){var r=new Date,t=[V(r.getHours()),V(r.getMinutes()),V(r.getSeconds())].join(":");return[r.getDate(),Qe[r.getMonth()],t].join(" ")}y.log=function(){console.log("%s - %s",ra(),y.format.apply(y,arguments))};y.inherits=Bo();y._extend=function(r,t){if(!t||!L(t))return r;for(var o=Object.keys(t),e=o.length;e--;)r[o[e]]=t[o[e]];return r};function Vo(r,t){return Object.prototype.hasOwnProperty.call(r,t)}});var ea={};ue(ea,{NDArray:()=>l,NDIter:()=>p,NDMultiIter:()=>h,abs:()=>tr,acos:()=>er,acosh:()=>nr,add:()=>sr,angle:()=>fr,array:()=>i,asin:()=>ur,asinh:()=>yr,atan:()=>hr,atanh:()=>Ar,augment:()=>v,binOp:()=>br,cbrt:()=>gr,ceil:()=>kr,check:()=>Ir,combine:()=>vr,copy:()=>Er,cos:()=>_r,cosh:()=>Sr,cross:()=>Or,det:()=>Ur,diagonal:()=>Cr,dot:()=>Pr,eig:()=>Hr,equals:()=>Vr,equidimensional:()=>Wr,equilateral:()=>Yr,exp:()=>Kr,expm1:()=>rt,eye:()=>k,fill:()=>ot,floor:()=>at,forEach:()=>it,fround:()=>mt,gauss:()=>pt,get:()=>ct,inv:()=>lt,log:()=>dt,log10:()=>Dt,log1p:()=>bt,log2:()=>gt,lu:()=>kt,lu_factor:()=>It,magic:()=>oe,map:()=>vt,matrix:()=>E,max:()=>Et,mean:()=>_t,min:()=>St,multiply:()=>Ot,norm:()=>Ut,normalize:()=>Ct,ones:()=>ee,pow:()=>Pt,prod:()=>Ht,product:()=>Vt,project:()=>Wt,push:()=>Yt,random:()=>ae,range:()=>ne,rank:()=>Kt,reciprocal:()=>ro,reduce:()=>oo,reshape:()=>ao,round:()=>io,row_add:()=>mo,scale:()=>po,set:()=>co,sign:()=>lo,sin:()=>Ao,sinh:()=>No,slice:()=>xo,solve:()=>wo,sqrt:()=>Lo,square:()=>Mo,subtract:()=>jo,sum:()=>To,swap:()=>zo,tan:()=>qo,tanh:()=>Fo,toArray:()=>$o,toString:()=>Xo,trace:()=>Yo,transpose:()=>Ko,trunc:()=>re,zeros:()=>D});var g=32,C=r=>r.reduce((t,o)=>t.concat(Array.isArray(o)?C(o):o),[]),R=r=>ArrayBuffer.isView(r)&&!(r instanceof DataView),M=r=>r.reduce((t,o)=>t*o,1),P=r=>Array.isArray(r)||R(r)?[r.length].concat(P(r[0])):[],w=r=>[...r.slice(1).map((t,o)=>r.slice(o+1).reduce((e,a)=>e*a,1)),1],rr=r=>{let{constructor:{name:t="Float32Array"}={}}=r||{};switch(t){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float32Array":return"float32";case"Float64Array":return"float64";default:return"float64"}},b=r=>{switch(r){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float32":return Float32Array;case"float64":return Float64Array;default:return Float64Array}};var i=(...r)=>new l(...r);var p=class{x;shape;shapem1;strides;backstrides;length;lengthm1;nd;ndm1;index;coords;pos;factors;constructor(t){this.x=i(t);let{shape:o,strides:e,length:a}=this.x;this.length=a,this.lengthm1=a-1,this.nd=o.length,this.ndm1=this.nd-1,this.shape=Array(g).fill(0),this.strides=Array(g).fill(0),this.shapem1=Array(g).fill(0),this.coords=Array(g).fill(0),this.backstrides=Array(g).fill(0),this.factors=Array(g).fill(0),this.nd!==0&&(this.factors[this.nd-1]=1);let n;for(n=0;n<this.nd;n+=1)this.shape[n]=o[n],this.shapem1[n]=o[n]-1,this.strides[n]=e[n],this.backstrides[n]=e[n]*this.shapem1[n],this.coords[n]=0,n>0&&(this.factors[this.ndm1-n]=this.factors[this.nd-n]*o[this.nd-n]);this.index=0,this.pos=0}done(){return this.index>this.lengthm1}current(){let t=this.done();return{value:t?void 0:this.pos,done:t}}next(){let t=this.current();if(t.done)return t;let{ndm1:o,shapem1:e,strides:a,backstrides:n}=this,s;for(s=o;s>=0;s-=1){if(this.coords[s]<e[s]){this.coords[s]+=1,this.pos+=a[s];break}this.coords[s]=0,this.pos-=n[s]}return this.index+=1,t}[Symbol.iterator](){return this}};var h=class{iters;shape;nd;length;lengthm1;numiter;index;pos;constructor(...t){this.iters=t.map(f=>new p(f)),this.numiter=t.length;let o,e;for(o=0,e=0;o<this.numiter;o+=1)e=Math.max(e,this.iters[o].x.shape.length);this.nd=e,this.shape=Array(e).fill(0);let a,n,s,m;for(o=0;o<e;o+=1)for(this.shape[o]=1,n=0;n<this.numiter;n+=1)if(a=this.iters[n],s=o+a.x.shape.length-e,s>=0){if(m=a.x.shape[s],m==1)continue;if(this.shape[o]==1)this.shape[o]=m;else if(this.shape[o]!==m)throw new Error("shape mismatch")}for(m=this.shape.reduce((f,u)=>f*u,1),this.length=m,this.lengthm1=m-1,o=0;o<this.numiter;o+=1)for(a=this.iters[o],a.nd=this.nd,a.ndm1=this.nd-1,a.length=m,a.lengthm1=m-1,e=a.x.shape.length,e!==0&&(a.factors[this.nd-1]=1),n=0;n<this.nd;n+=1)a.shape[n]=this.shape[n],a.shapem1[n]=this.shape[n]-1,s=n+e-this.nd,s<0||a.x.shape[s]!==this.shape[n]?a.strides[n]=0:a.strides[n]=a.x.strides[s],a.backstrides[n]=a.strides[n]*a.shapem1[n],n>0&&(a.factors[this.nd-n-1]=a.factors[this.nd-n]*this.shape[this.nd-n]);this.index=0,this.pos=Array(this.numiter).fill(0)}done(){return this.index>this.lengthm1}current(){let t=this.done();return{value:t?void 0:this.pos,done:t}}next(){let t=this.current();if(t.done)return t;this.index+=1;let{numiter:o}=this,e,a;for(a=0;a<o;a+=1)e=this.iters[a],this.pos[a]=e.pos,e.next();return t}[Symbol.iterator](){return this}};var{abs:le}=Math,tr=r=>i(r).abs();function or(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=le(r[o]);return this}var{acos:he}=Math,er=r=>i(r).acos();function ar(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=he(r[o]);return this}var{acosh:de}=Math,nr=r=>i(r).acosh();function ir(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=de(r[o]);return this}var sr=(r,t,o=1)=>i(r).add(i(t),o);function mr(r,t=1){let{data:o}=this,{data:e}=i(r),a=new h(this,r);for(let[n,s]of a)o[n]+=t*e[s];return this}var{acos:Ae}=Math,fr=(r,t)=>i(r).angle(i(t));function pr(r){return Ae(this.dot(i(r))/this.norm()/i(r).norm())}var{asin:De}=Math,ur=r=>i(r).asin();function cr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=De(r[o]);return this}var{asinh:Ne}=Math,yr=r=>i(r).asinh();function lr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Ne(r[o]);return this}var{atan:be}=Math,hr=r=>i(r).atan();function dr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=be(r[o]);return this}var{atanh:xe}=Math,Ar=r=>i(r).atanh();function Dr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=xe(r[o]);return this}var D=(...r)=>new l(new Float64Array(r.reduce((t,o)=>t*o,1)),{shape:r}).fill(0);var v=(r,t)=>i(r).augment(i(t));function Nr(r){let[t,o]=this.shape,[e,a]=i(r).shape,{data:n}=this,{data:s}=i(r);if(e===0||a===0)return this;if(t!==e)throw new Error("rows do not match");let m=D(t,o+a),{data:f}=m,u,c;for(u=0;u<t;u+=1)for(c=0;c<o;c+=1)f[u*(o+a)+c]=n[u*o+c];for(u=0;u<e;u+=1)for(c=0;c<a;c+=1)f[u*(o+a)+(c+o)]=s[u*a+c];return m}var br=(r,t,o)=>i(r).binOp(i(t),o);function xr(r,t){let{data:o}=this,{data:e}=i(r),a=new h(this,r);for(let[n,s]of a)o[n]=t(o[n],e[s],n);return this}var{cbrt:ge}=Math,gr=r=>i(r).cbrt();function wr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=ge(r[o]);return this}var{ceil:we}=Math,kr=r=>i(r).ceil();function Lr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=we(r[o]);return this}var Ir=(r,...t)=>{i(r).check(...t)};function Mr(...r){let{shape:t,length:o}=this;if(r.length===1){let[e]=r;if(e<0||e>o-1||!Number.isFinite(e))throw new Error("index out of bounds")}else if(!t.every((e,a)=>e>r[a]&&Number.isFinite(r[a])&&r[a]>=0))throw new Error("index out of bounds")}var vr=(r,t)=>i(r).combine(i(t));function jr(r){if(this.shape.length!==1&&r.shape.length!==1)throw new Error("combine operation not permitted for multidimensional arrays");let{length:t,data:o}=this,{length:e,data:a}=r;if(e===0)return this;if(t===0)return this.data=new(b(r.dtype))(a),this.length=e,this.dtype=r.dtype,this;let n=t+e,s=new(b(this.dtype))(n);return s.set(o),s.set(a,t),this.data=s,this.length=n,this.shape=[n],this}var Er=r=>i(r).copy();function Tr(){let r=D(...this.shape),{data:t}=this,{data:o}=r,e=new h(this,r);for(let[a,n]of e)o[n]=t[a];return r}var{cos:ke}=Math,_r=r=>i(r).cos();function zr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=ke(r[o]);return this}var{cosh:Le}=Math,Sr=r=>i(r).cosh();function qr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Le(r[o]);return this}var Or=(r,t)=>i(r).cross(i(t));function Fr(r){let{length:t}=this,{length:o}=r;if(t!==3||o!==3)throw new Error("vectors must have three components");let e=this.y*r.z-this.z*r.y,a=this.z*r.x-this.x*r.z,n=this.x*r.y-this.y*r.x;return this.x=e,this.y=a,this.z=n,this}var Ur=r=>i(r).det();function $r(){this.square();let[r]=this.shape,[t,o]=this.copy().lu_factor(),{data:e}=t,a=1,n=1,s;for(s=0;s<r;s+=1)a*=e[s*r+s],s!==o[s]-1&&(n*=-1);return n*a}var Cr=r=>i(r).diagonal();function Rr(){this.square();let{length:r}=this,[t,o]=this.shape,e=Math.min(t,o);return this.reshape(r).slice(0,r,e+1)}var Pr=(r,t)=>i(r).dot(i(t));function Br(r){let{data:t}=this,{data:o}=r,e=0,a=new h(this,r);for(let[n,s]of a)e+=t[n]*o[s];return e}var k=r=>{let t=new l(new Float64Array(r*r),{shape:[r,r]}),{data:o}=t,e;for(e=0;e<r;e+=1)o[e*r+e]=1;return t};var j=(r,t,o,e,a,n,s)=>{let[m]=r.shape,{data:f}=r,u=f[e*m+a],c=1/(t+o);f[e*m+a]=u-o*(f[n*m+s]+c*u),f[n*m+s]+=o*(u-c*f[n*m+s])},Hr=r=>i(r).eig();function Jr(){this.square();let[r]=this.shape,{data:t}=this,o=k(r),e=0,a=0,n=0,s=0,m=0;do{for(a=0;a<r;a+=1)for(n=a+1;n<r;n+=1)Math.abs(t[a*r+n])>=e&&(e=Math.abs(t[a*r+n]),s=a,m=n);let f;if(Math.abs(t[s*r+m])<Math.abs(t[m*r+m])*1e-36)f=t[s*r+m]/t[m*r+m];else{let A=t[m*r+m]/2*t[s*r+m];f=1/(Math.abs(A)+Math.sqrt(A*A+1))}let u=1/Math.sqrt(f*f+1),c=f*u,d=t[s*r+m];for(t[s*r+m]=0,t[s*r+s]-=f*d,t[m*r+m]+=f*d,a=0;a<s;a+=1)j(this,u,c,a,s,a,m);for(a=s+1;a<m;a+=1)j(this,u,c,s,a,a,m);for(a=m+1;a<r;a+=1)j(this,u,c,s,a,m,a);for(a=0;a<r;a+=1)j(o,u,c,a,s,a,m)}while(e>=1e-9);return[this.diagonal(),o]}var Vr=(r,t,o=1e-6)=>i(r).equals(i(t),o);function Gr(r,t=1e-6){let{data:o}=this,{data:e}=r,a=new h(this,r);for(let[n,s]of a)if(Math.abs(o[n]-e[s])>t)return!1;return!0}var Wr=(r,t)=>{i(r).equidimensional(i(t))};function Xr(r){let{shape:t}=this,{shape:o}=r;if(!t.every((e,a)=>e===o[a]))throw new Error(`shapes ${t} and ${o} do not match`)}var Yr=(r,t)=>{i(r).equilateral(i(t))};function Zr(r){let{length:t}=this,{length:o}=r;if(t!==o)throw new Error(`lengths ${t} and ${o} do not match`)}var{exp:Ie}=Math,Kr=r=>i(r).exp();function Qr(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Ie(r[o]);return this}var{expm1:Me}=Math,rt=r=>i(r).expm1();function tt(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Me(r[o]);return this}var ot=(r,t=0)=>i(r).fill(t);function et(r=0){let{data:t}=this,o=new p(this);for(let e of o)t[e]=r instanceof Function?r(e):r;return this}var{floor:ve}=Math,at=r=>i(r).floor();function nt(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=ve(r[o]);return this}var it=(r,t)=>{r.forEach(t)};function st(r){let{data:t}=this,o=new p(this);for(let e of o)r.call(this,t[e],e,t)}var{fround:je}=Math,mt=r=>i(r).fround();function ft(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=je(r[o]);return this}var pt=r=>i(r).gauss();function ut(){let{shape:[r,t],data:o}=this,e=0,a,n,s,m,f;for(s=0;s<r;s+=1){if(t<=e)return this;for(m=s;o[m*t+e]===0;)if(m+=1,r===m&&(m=s,e+=1,t===e))return this;if(s!==m&&this.swap(s,m),n=o[s*t+e],n!==0)for(f=0;f<t;f+=1)o[s*t+f]/=n;for(m=0;m<r;m+=1)if(a=o[m*t+e],m!==s)for(f=0;f<t;f+=1)o[m*t+f]-=o[s*t+f]*a;e+=1}for(s=0;s<r;s+=1){for(n=0,m=0;m<t;m+=1)n===0&&(n=o[s*t+m]);if(n!==0)for(f=0;f<t;f+=1)o[s*t+f]/=n}return this}var ct=(r,...t)=>i(r).get(...t);function yt(...r){this.check(...r);let{data:t,shape:o}=this,{length:e}=o,a=r[e-1],n,s;for(n=0;n<e-1;n+=1){let m=1;for(s=n+1;s<e;s+=1)m*=o[s];a+=r[n]*m}return t[a]}var lt=r=>i(r).inv();function ht(){this.square();let{shape:[r]}=this,t=k(r),o=v(this,t).gauss(),e=D(r,r),a=D(r,r),{data:n}=o,{data:s}=e,{data:m}=a,f=new p(o),[u,c]=f.coords;for(let d of f)c<r?s[u*r+c]=n[d]:m[u*r+(c-r)]=n[d],[u,c]=f.coords;if(!e.equals(t))throw new Error("matrix is not invertible");return a}var{log:Ee}=Math,dt=r=>i(r).log();function At(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Ee(r[o]);return this}var{log10:Te}=Math,Dt=r=>i(r).log10();function Nt(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Te(r[o]);return this}var{log1p:_e}=Math,bt=r=>i(r).log1p();function xt(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=_e(r[o]);return this}var{log2:ze}=Math,gt=r=>i(r).log2();function wt(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=ze(r[o]);return this}var kt=r=>i(r).lu();function Lt(){let[r,t]=this.copy().lu_factor(),o=r.copy(),e=r.copy(),{data:a}=o,{data:n}=e,s=new p(r),[m,f]=s.coords;for(let u of s)f<m?n[u]=0:a[u]=m===f?1:0,[m,f]=s.coords;return[o,e,t]}var It=r=>i(r).lu_factor();function Mt(){let{data:r,shape:[t]}=this,o=new Int32Array(t),e,a,n,s,m,f,u;for(u=0;u<t;u+=1){for(s=u,e=Math.abs(r[u*t+u]),f=u+1;f<t;f+=1)a=Math.abs(r[f*t+u]),e<a&&(e=a,s=f);for(o[u]=s+1,s!==u&&this.swap(u,s),n=r[u*t+u],m=u+1;m<t;m+=1)r[m*t+u]/=n;for(m=u+1;m<t;m+=1){for(f=u+1;f<t-1;f+=2)r[m*t+f]-=r[m*t+u]*r[u*t+f],r[m*t+f+1]-=r[m*t+u]*r[u*t+f+1];f===t-1&&(r[m*t+f]-=r[m*t+u]*r[u*t+f])}}return[this,o]}var vt=(r,t)=>i(r).map(t);function jt(r){let{data:t}=this,o=new p(this),e=r.bind(this),a=this.copy(),{data:n}=a;for(let s of o)n[s]=e(t[s],s,t);return a}var Et=r=>i(r).max();function Tt(){let{data:r}=this,t=Number.NEGATIVE_INFINITY,o=new p(this);for(let e of o){let a=r[e];t<a&&(t=a)}return t}var _t=r=>i(r).mean();function zt(){let{data:r,length:t}=this,o=new p(this),e=0;for(let a of o)e+=r[a];return e/t}var St=r=>i(r).min();function qt(){let{data:r}=this,t=new p(this),o=Number.POSITIVE_INFINITY;for(let e of t){let a=r[e];o>a&&(o=a)}return o}var E=(r,t)=>new l(new Float64Array(r*t),{shape:[r,t]});var Ot=(r,t)=>i(r).multiply(i(t));function Ft(r){let{shape:[t,o],data:e}=this.copy(),{shape:[a,n],data:s}=r.copy();if(o!==a)throw new Error("sizes do not match");let m=E(t,n),{data:f}=m,u=new p(m),c,[d,A]=u.coords;for(let U of u){let K=0;for(c=0;c<o;c+=1)K+=e[d*o+c]*s[c*n+A];f[U]=K,[d,A]=u.coords}return m}var{sqrt:Se}=Math,Ut=r=>i(r).norm();function $t(){return Se(this.dot(this))}var Ct=r=>i(r).normalize();function Rt(){return this.scale(1/this.norm())}var{pow:qe}=Math,Pt=(r,t)=>i(r).pow(t);function Bt(r){let{data:t}=this,o=new p(this);for(let e of o)t[e]=qe(t[e],r);return this}var Ht=r=>i(r).prod();function Jt(){let{data:r}=this,t=new p(this),o=1;for(let e of t)o*=r[e];return o}var Vt=(r,t)=>i(r).product(i(t));function Gt(r){let{data:t}=this,{data:o}=r,e=new h(this,r);for(let[a,n]of e)t[a]*=o[n];return this}var Wt=(r,t)=>i(r).project(i(t));function Xt(r){return r.scale(this.dot(r)/r.dot(r))}var Yt=(r,t)=>i(r).push(t);function Zt(r){if(this.shape.length!==1)throw new Error("push operation not permitted for multidimensional arrays");let{data:t,length:o}=this,e=o+1,a=new(b(this.dtype))(e);return a.set(t),a[o]=r,this.data=a,this.length=e,this.shape=[e],this}var Kt=(r,t=1e-6)=>i(r).rank(t);function Qt(r=1e-6){let{data:t}=this.copy().gauss(),o=new p(this),e=0,[a,n]=o.coords;for(let s of o)e<=a&&n>=a&&Math.abs(t[s])>r&&(e+=1),[a,n]=o.coords;return e}var ro=r=>i(r).reciprocal();function to(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=1/r[o];return this}var oo=(r,t,o)=>i(r).reduce(t,o);function eo(r,t){let{data:o,length:e}=this;if(e===0&&typeof t>"u")throw new Error("Reduce of empty array with no initial value.");let a=new p(this),n=r.bind(this),s;typeof t>"u"?(s=o[0],a.next()):s=t;for(let m of a)s=n(s,o[m],m,o);return s}var ao=(r,...t)=>i(r).reshape(...t);function no(...r){let{length:t}=this;if(r.reduce((o,e)=>o*e,1)!==t)throw new Error(`shape ${r} does not match length ${t}`);return this.shape=r,this.strides=w(r),this}var{round:Oe}=Math,io=r=>i(r).round();function so(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Oe(r[o]);return this}var mo=(r,t,o,e=1)=>i(r).row_add(t,o,e);function fo(r,t,o=1){this.check(r,0),this.check(t,0);let[,e]=this.shape,{data:a}=this,n;for(n=0;n<e;n+=1)a[r*e+n]+=a[t*e+n]*o;return this}var po=(r,t)=>i(r).scale(t);function uo(r){let{data:t}=this,o=new p(this);for(let e of o)t[e]*=r;return this}var co=(r,...t)=>{r.set(...t)};function yo(...r){let t=r.slice(0,-1),o=r[r.length-1];this.check(...t);let{shape:e}=this,a=t[t.length-1],n;for(n=0;n<t.length-1;n+=1)a+=t[n]*e[n+1];this.data[a]=o}var{sign:Fe}=Math,lo=r=>i(r).sign();function ho(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Fe(r[o]);return this}var{sin:Ue}=Math,Ao=r=>i(r).sin();function Do(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Ue(r[o]);return this}var{sinh:$e}=Math,No=r=>i(r).sinh();function bo(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=$e(r[o]);return this}var xo=(r,t,o,e)=>i(r).slice(t,o,e);function go(r=0,t=this.shape[0],o=1){let{data:e,shape:a}=this,n=a.length;if(r<0||t<0)return this.slice(r<0?a[a.length-1]+r:r,t<0?a[a.length-1]+t:t);if(r>t)return this.slice(t,r,o);if(o<=0)throw new Error("step argument has to be a positive integer");let s=[Math.ceil((t-r)/Math.abs(o)),...a.slice(1)],m=M(s),f=w(s),u=n>1?e.subarray(r*s[s.length-1],t*s[s.length-1]):e.subarray(r,t);return f[0]*=o,new l(u,{shape:s,length:m,strides:f})}var wo=(r,t)=>i(r).solve(i(t));function ko(r){let{shape:[t,o],data:e}=r,[a,n]=this.lu_factor(),{data:s}=a,m,f,u;for(m=0;m<n.length;m+=1)m!==n[m]-1&&r.swap(m,n[m]-1);for(u=0;u<o;u+=1){for(m=0;m<t;m+=1)for(f=0;f<m;f+=1)e[m*o+u]-=s[m*t+f]*e[f*o+u];for(m=t-1;m>=0;m-=1){for(f=m+1;f<t;f+=1)e[m*o+u]-=s[m*t+f]*e[f*o+u];e[m*o+u]/=s[m*t+m]}}return r}var{sqrt:Ce}=Math,Lo=r=>i(r).sqrt();function Io(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Ce(r[o]);return this}var Mo=r=>{i(r).square()};function vo(){let{length:r}=this.shape,[t,o]=this.shape;if(r!==2||t!==o)throw new Error("matrix is not square")}var jo=(r,t)=>i(r).subtract(i(t));function Eo(r){return this.add(r,-1)}var To=r=>i(r).sum();function _o(){let{data:r}=this,t=new p(this),o=0;for(let e of t)o+=r[e];return o}var zo=(r,t,o)=>i(r).swap(t,o);function So(r,t){this.check(r,0),this.check(t,0);let{data:o}=this,[,e]=this.shape,a=o.slice(r*e,(r+1)*e);return o.copyWithin(r*e,t*e,(t+1)*e),o.set(a,t*e),this}var{tan:Re}=Math,qo=r=>i(r).tan();function Oo(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Re(r[o]);return this}var{tanh:Pe}=Math,Fo=r=>i(r).tanh();function Uo(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=Pe(r[o]);return this}var $o=r=>i(r).toArray();function Co(r=0,t=0){let{data:o,shape:e,strides:a}=this,{length:n}=e;if(t>=n)return o[r];let s=e[t],m=a[t],f=[];for(let u=0;u<s;u++){let c=this.toArray(r,t+1);if(c===null)return null;f[u]=c,r+=m}return f}var Wo=ce(Go());var Xo=r=>i(r).toString();function Z(){return`array(${(0,Wo.inspect)(this.toArray(),{depth:10,breakLength:40})}, dtype=${this.dtype})`}var Yo=r=>i(r).trace();function Zo(){let[r,t]=this.shape,{data:o}=this,e=Math.min(r,t),a=0,n;for(n=0;n<e;n+=1)a+=o[n*t+n];return a}var Ko=r=>i(r).transpose();function Qo(){if(this.shape.length<2)return this;let r=this.shape[0];return this.shape[0]=this.shape[1],this.shape[1]=r,r=this.strides[0],this.strides[0]=this.strides[1],this.strides[1]=r,this}var{trunc:ta}=Math,re=r=>i(r).trunc();function te(){let{data:r}=this,t=new p(this);for(let o of t)r[o]=ta(r[o]);return this}var oe=r=>{if(r<0)throw new Error("invalid n");let t=new Float64Array(r*r),o=new l(t,{shape:[r,r]}),e=new p(o),[a,n]=e.coords;for(let s of e){let m=r-a-1,f=r-n-1;t[s]=(n+m*2+1)%r*r+(f+m*2+1)%r+1,[a,n]=e.coords}return o};var ee=(...r)=>new l(new Float64Array(r.reduce((t,o)=>t*o,1)),{shape:r}).fill(1);var ae=(...r)=>new l(new Float64Array(r.reduce((t,o)=>t*o,1)),{shape:r}).map(()=>Math.random());var ne=(...r)=>{let t=Float64Array,o=!1,e,a,n;switch(r.length){case 2:n=r.pop(),a=1,e=r.pop();break;case 3:n=r.pop(),a=r.pop(),e=r.pop();break;default:throw new Error("invalid range")}if(n-e<0){let u=n;n=e,e=u,o=!0}if(a>n-e)throw new Error("invalid range");let s=new t(Math.ceil((n-e)/a)),m=e,f=0;if(o)for(;m<n;m+=a,f+=1)s[f]=n-m+e;else for(;m<n;m+=a,f+=1)s[f]=m;return new l(s)};var oa=Symbol.for("nodejs.util.inspect.custom"),l=class{data=new Float64Array(0);dtype="float64";length=0;shape=[0];strides=[0];[oa]=Z;abs=or;acos=ar;acosh=ir;add=mr;angle=pr;asin=cr;asinh=lr;atan=dr;atanh=Dr;augment=Nr;binOp=xr;cbrt=wr;ceil=Lr;check=Mr;combine=jr;copy=Tr;cos=zr;cosh=qr;cross=Fr;det=$r;diagonal=Rr;dot=Br;eig=Jr;equals=Gr;equidimensional=Xr;equilateral=Zr;exp=Qr;expm1=tt;fill=et;floor=nt;forEach=st;fround=ft;gauss=ut;get=yt;inv=ht;log=At;log10=Nt;log1p=xt;log2=wt;lu=Lt;lu_factor=Mt;map=jt;max=Tt;mean=zt;min=qt;multiply=Ft;norm=$t;normalize=Rt;pow=Bt;prod=Jt;product=Gt;project=Xt;push=Zt;rank=Qt;reciprocal=to;reduce=eo;reshape=no;round=so;row_add=fo;scale=uo;set=yo;sign=ho;sin=Do;sinh=bo;slice=go;solve=ko;sqrt=Io;square=vo;subtract=Eo;sum=_o;swap=So;tan=Oo;tanh=Uo;toArray=Co;toString=Z;trace=Zo;transpose=Qo;trunc=te;constructor(t,o){if(!t)return;if(t instanceof l)return t;if(t instanceof p){if(!o||!o.dtype)throw new Error("dtype is missing");t.shape&&(o.shape=t.shape);let m=t.length;t=new(b(o.dtype))(m)}let{shape:e=P(t),length:a=M(e),strides:n=w(e),dtype:s=rr(t)}=o||{};this.data=R(t)?t:new(b(s))(C(t)),this.shape=e,this.length=a,this.dtype=s,this.strides=n}get x(){return this.get(0)}set x(t){this.set(0,t)}get y(){return this.get(1)}set y(t){this.set(1,t)}get z(){return this.get(2)}set z(t){this.set(2,t)}get w(){return this.get(3)}set w(t){this.set(3,t)}get T(){return this.copy().transpose()}};try{window.v=l}catch{}return ye(ea);})();
//# sourceMappingURL=index.browser.js.map
